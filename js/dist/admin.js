module.exports=function(t){var a={};function s(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}return s.m=t,s.c=a,s.d=function(t,a,n){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)s.d(n,e,function(a){return t[a]}.bind(null,e));return n},s.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="",s(s.s=27)}([function(t,a){t.exports=flarum.core.compat.app},function(t,a){t.exports=flarum.core.compat.Model},function(t,a,s){"use strict";function n(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a}s.d(a,"a",(function(){return n}))},function(t,a){t.exports=flarum.core.compat.extend},function(t,a){t.exports=flarum.core.compat["components/Button"]},function(t,a,s){"use strict";function n(){return(n=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}s.d(a,"a",(function(){return n}))},function(t,a,s){"use strict";var n=s(5),e=s(2),r=s(1),i=s.n(r),o=function(t){function a(){return t.apply(this,arguments)||this}return Object(e.a)(a,t),a}(i.a);Object(n.a)(o.prototype,{type:i.a.attribute("type"),reason:i.a.attribute("reason"),reasonDetail:i.a.attribute("reasonDetail"),createdAt:i.a.attribute("createdAt",i.a.transformDate),dismissedAt:i.a.attribute("dismissedAt",i.a.transformDate),post:i.a.hasOne("post"),user:i.a.hasOne("user"),dismisser:i.a.hasOne("dismisser")}),a.a=o},function(t,a){t.exports=flarum.core.compat["helpers/avatar"]},function(t,a){t.exports=flarum.core.compat["helpers/username"]},function(t,a){t.exports=flarum.core.compat["helpers/humanTime"]},,function(t,a){t.exports=flarum.core.compat["components/Page"]},function(t,a){t.exports=flarum.core.compat.Component},function(t,a){t.exports=flarum.core.compat["components/LoadingIndicator"]},function(t,a){t.exports=flarum.core.compat["components/Modal"]},function(t,a){t.exports=flarum.core.compat["utils/ItemList"]},function(t,a){t.exports=flarum.core},,function(t,a){t.exports=flarum.core.compat["components/PermissionGrid"]},,,,,function(t,a){t.exports=flarum.core.compat["components/AdminLinkButton"]},function(t,a){t.exports=flarum.core.compat["components/AdminNav"]},function(t,a){t.exports=flarum.core.compat["components/SettingsModal"]},,function(t,a,s){"use strict";s.r(a);var n=s(5),e=s(3),r=s(0),i=s.n(r),o=s(23),l=s.n(o),u=s(24),c=s.n(u),d=s(2),f=s(11),p=s.n(f),g=s(4),h=s.n(g),b=s(12),y=s.n(b),v=s(13),x=s.n(v),_=s(14),O=s.n(_),j=s(15),N=s.n(j),F=function(t){function a(){return t.apply(this,arguments)||this}Object(d.a)(a,t);var s=a.prototype;return s.init=function(){t.prototype.init.call(this)},s.className=function(){return"DismissedFlagsModal"},s.title=function(){return app.translator.trans("flarum-flags.admin.dismissed.title")},s.fields=function(){var t=new N.a,a=this.props.flag;return a.reason()&&t.add("reason",m("div",null,m("h3",null,app.translator.trans("flarum-flags.admin.dismissed.fields.reason")),m("p",null,a.reason()))),a.reasonDetail()&&t.add("reason-detail",m("div",null,m("h3",null,app.translator.trans("flarum-flags.admin.dismissed.fields.reason_detail")),m("p",null,a.reasonDetail()))),t},s.content=function(){this.props.flag;return m("div",{className:"Modal-body"},this.fields().toArray())},a}(O.a),w=s(9),D=s.n(w),P=s(8),M=s.n(P),A=s(7),S=s.n(A),T=function(t){function a(){return t.apply(this,arguments)||this}Object(d.a)(a,t);var s=a.prototype;return s.init=function(){var t=this;this.data=[],this.loading=!0,app.store.find("flags",{dismissed:!0,sort:"dismissedAt"}).then((function(a){t.data=a.payload.data,t.loading=!1,m.redraw()}))},s.view=function(){var t=this;return this.loading?m(x.a,null):m("div",{className:"DismissedFlagsTable"},m("table",{className:"DismissedFlagsTable-results"},m("thead",null,m("th",null,app.translator.trans("flarum-flags.admin.dismissed.fields.username")),m("th",null,app.translator.trans("flarum-flags.admin.dismissed.fields.discussion")),m("th",null,app.translator.trans("flarum-flags.admin.dismissed.fields.created_at")),m("th",null,app.translator.trans("flarum-flags.admin.dismissed.fields.dismissed_at")),m("th",null,app.translator.trans("flarum-flags.admin.dismissed.fields.dismissed_by")),m("th",null)),m("tbody",null,this.data.map((function(a){var s=app.store.getById("flags",a.id),n=s.post().discussion().id(),e=s.post().number(),r=s.post().user(),i=s.dismisser();return m("tr",null,m("td",null,m("a",{className:"DismissedFlagsTable-user",href:t.getUserUrl(r)},S()(r,{loading:"lazy"})," ",M()(r))),m("td",null,m("a",{href:app.route("discussion.near",{id:n,near:e})},s.post().discussion().title())),m("td",null,D()(s.createdAt())),m("td",null,D()(s.dismissedAt())),m("td",null,m("a",{className:"DismissedFlagsTable-user",href:t.getUserUrl(i)},S()(i,{loading:"lazy"})," ",M()(i))),m("td",{className:"DismissedFlagsTable-results-actions"},m(h.a,{className:"Button",onclick:function(){return app.modal.show(new F({flag:s}))}},m("i",{className:"fas fa-info-circle"}))))})))))},s.getUserUrl=function(t){return app.forum.attribute("baseUrl")+"/u/"+t.username()},a}(y.a),U=function(t){function a(){return t.apply(this,arguments)||this}return Object(d.a)(a,t),a.prototype.view=function(){return m("div",{className:"DismissedFlagsPage"},m("div",{className:"DismissedFlagsPage-header"},m("div",{className:"container"},m("h1",null,app.translator.trans("flarum-flags.admin.dismissed.title")),m("p",null,app.translator.trans("flarum-flags.admin.dismissed.description")))),m("div",{className:"DismissedFlagsPage-list"},m("div",{className:"container"},m(T,null))))},a}(p.a),I=s(18),k=s.n(I),B=s(6),z=s(25),L=function(t){function a(){return t.apply(this,arguments)||this}Object(d.a)(a,t);var s=a.prototype;return s.className=function(){return"FlagsSettingsModal Modal--small"},s.title=function(){return app.translator.trans("flarum-flags.admin.settings.title")},s.form=function(){return[m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-flags.admin.settings.guidelines_url_label")),m("input",{className:"FormControl",bidi:this.setting("flarum-flags.guidelines_url")})),m("div",{className:"Form-group"},m("label",{className:"checkbox"},m("input",{type:"checkbox",bidi:this.setting("flarum-flags.can_flag_own")}),app.translator.trans("flarum-flags.admin.settings.flag_own_posts_label")))]},a}(s.n(z).a),C={"flags/components/FlagsSettingsModal":L},G=s(16);i.a.initializers.add("flarum-flags",(function(){i.a.store.models.flags=B.a,i.a.extensionSettings["flarum-flags"]=function(){return i.a.modal.show(new L)},Object(e.extend)(k.a.prototype,"moderateItems",(function(t){t.add("viewFlags",{icon:"fas fa-flag",label:i.a.translator.trans("flarum-flags.admin.permissions.view_flags_label"),permission:"discussion.viewFlags"},65)})),Object(e.extend)(k.a.prototype,"replyItems",(function(t){t.add("flagPosts",{icon:"fas fa-flag",label:i.a.translator.trans("flarum-flags.admin.permissions.flag_posts_label"),permission:"discussion.flagPosts"},70)})),app.routes["dismissed-flags"]={path:"dismissed-flags",component:U.component()},app.routes["discussion.near"]={path:"/d/:id/:near"},Object(e.extend)(c.a.prototype,"items",(function(t){t.add("dismissed-flags",l.a.component({href:app.route("dismissed-flags"),icon:"fas fa-flag",children:app.translator.trans("flarum-flags.admin.dismissed.title"),description:app.translator.trans("flarum-flags.admin.dismissed.description")}))}))})),Object(n.a)(G.compat,C)}]);
//# sourceMappingURL=admin.js.map